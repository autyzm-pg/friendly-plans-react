# What you need before start

Make sure to use `yarn` instead of `npm`. This project has only `yarn.lock` lockfile.

If you want to develop for iOS, Mac device will be needed. It is also advised for Android
developed thanks for better tooling.

Download all npm dependencies using `yarn` in the root of the project.
To download iOS Pods, go to `ios` directory and run `pod install`.

Basic automation is already set up using Fastlane. You can find autogenerated Fastlane specific
readme at `fastlane/README.md`.

To download Firebase configs you will need to have Firebase Admin private key on your machine.
Go to Firebase Console, sign in to React Native Starter Kit project, navigate to Settings/Service Accounts
and press `Generate new private key`. Move downloaded json to the root of the project `firebase-admin.json`.
Remember that this is very important key and you need to never upload it to source control or other unsafe places.
You can also get the admin key from other team members.

Simply run `fastlane` in root directory of the project. Then you can choose any fastlane script - all of
them have description, explaining what the script will do. You can also specify directly what script should be run.

```
fastlane android staging_firebase_config
fastlane ios staging_firebase_config
```

# Signing the App
If you want to release the app, it need to be signed.

## Android
Fill `android/keystore.properties` file with:
```
storePassword=<password>
keyPassword=<password>
keyAlias=<key-alias>
storeFile=<store-file-path>
```
Download / generate keystore file and put in in path you defined before.

# Modification

---

# Additional information

## Firebase


## Expo
This project was **not** initialized with Expo, since this technology is rather just
for playing with React Native and does not allow us to include custom native code.

## CocoaPods
This project is using [CocoaPods](https://cocoapods.org/). Make sure to install CocoaPods on your Mac.
After installing yarn dependencies, make sure to go to `ios` directory and run
`pod install` to get all native dependencies.
Because this project uses Pods, you need to use `ReactNativeStarterKit.xcworkspace` instead
of `ReactNativeStarterKit.xcodeproj` in XCode.

## Fastlane
To automate builds, app publishing process and switching environments we
use [Fastlane](https://fastlane.tools/) tool.
Fastlane documentation is auto generated for both platforms in `ios` and `android` directories.

## Running tests
Simply use scripts present in `package.json` file. 
For local development use `test` to update component snapshots.
For CI use `test:ci`, which will check all components to match snapshots, without updating them.

# Guides

## Usage of components
Try not to use React Native / React Native Elements components directly in your screens.
Use custom wrapper components with initial styling already applied. You can find some components
already developed in the `src/components` directory.
Having this additional layer can help you later if for example you'd like to change fontFamily
of all texts - instead of refactoring every View, you can change only single Component.
This can also help with missing properties in TypeScript definition files - you can
extend definitions like it is done in Button component.

## Vector Icons
This project has already included [react-native-vector-icons](https://github.com/oblador/react-native-vector-icons)
with only `MaterialCommunityIcons` enabled. You can always add more icon fontfaces, like FontAwesome or others.

## Styling
Make sure to adjust shared styles defined in `src/styles`, including color
**palette** file and **typography** to your needs. Try to avoid modifying ready components in
favor of modifying variable files.

Currently, some components like navigation bar or buttons look slighty different on Android and iOS.
This is intentional by design. It allows the app to look more like part of the operating
system, but thanks to unique color palette, font faces and layout it still can look unique.

## Images
Instead of using standard `Image` component from React Native, use more performant
component from [react-native-fast-image](https://github.com/DylanVann/react-native-fast-image) library,
which is already included in the project.

## Testing
You can find various scenarios in unit tests for this project. Every bit of code has an unit test
to meet the requirement of 100% coverage for branches, functions, lines and statements.
To ensure highest possible coverage percentage,you can use `istanbul ignore` comments.
Sometimes you can find ` istanbul ignore else` comment, even if there's no else branch.
It is needed to provide best branches coverage as described [here](https://github.com/gotwarlost/istanbul/issues/35).
